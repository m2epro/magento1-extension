<?xml version="1.0"?>
<config>
    <modules>
        <Ess_M2ePro>
            <version>6.80.0</version>
        </Ess_M2ePro>
    </modules>
    <default>
        <carriers>
            <m2eproshipping>
                <active>1</active>
                <allowed_methods>m2eproshipping</allowed_methods>
                <methods>m2eproshipping</methods>
                <sallowspecific>0</sallowspecific>
                <model>Ess_M2ePro_Model_Magento_Shipping</model>
                <name>M2E Pro Shipping</name>
                <title>M2E Pro Shipping</title>
                <handling_type>F</handling_type>
            </m2eproshipping>
        </carriers>
        <payment>
            <m2epropayment>
                <active>1</active>
                <model>Ess_M2ePro_Model_Magento_Payment</model>
                <order_status>pending</order_status>
                <title>M2E Pro Payment</title>
                <allowspecific>0</allowspecific>
                <group>offline</group>
            </m2epropayment>
        </payment>
        <web>
            <routers>
                <m2epro_router>
                    <area>admin</area>
                    <class>Ess_M2ePro_Controller_Router</class>
                </m2epro_router>
            </routers>
        </web>
    </default>
    <admin>
        <routers>
            <M2ePro>
                <use>m2epro_router</use>
                <args>
                    <module>Ess_M2ePro</module>
                    <frontName>M2ePro</frontName>
                </args>
            </M2ePro>
            <M2eProOld>
                <use>admin</use>
                <args>
                    <module>Ess_M2ePro_Old</module>
                    <frontName>M2ePro</frontName>
                </args>
            </M2eProOld>
        </routers>
    </admin>
    <adminhtml>
        <translate>
            <modules>
                <Ess_M2ePro>
                    <files>
                        <default>Ess_M2ePro.csv</default>
                    </files>
                </Ess_M2ePro>
            </modules>
        </translate>
        <menu>

            <m2epro module="M2ePro">
                <title>eBay, Amazon, Walmart</title>
                <sort_order>71</sort_order>
                <children>

                    <ebay module="M2ePro">
                        <title>eBay</title>
                        <sort_order>1</sort_order>
                        <children>

                            <listings module="M2ePro">
                                <title>Listings</title>
                                <sort_order>1</sort_order>
                                <action>M2ePro/adminhtml_ebay_listing/index</action>
                            </listings>

                            <orders module="M2ePro">
                                <title>Sales</title>
                                <sort_order>1</sort_order>
                                <action>M2ePro/adminhtml_ebay_order/index</action>
                            </orders>

                            <logs module="M2ePro">
                                <title><![CDATA[Logs & Events]]></title>
                                <sort_order>3</sort_order>
                                <action>M2ePro/adminhtml_ebay_log/listing</action>
                            </logs>

                            <configuration module="M2ePro">
                                <title>Configuration</title>
                                <sort_order>4</sort_order>
                                <action>M2ePro/adminhtml_ebay_synchronization/index</action>
                            </configuration>

                        </children>
                    </ebay>

                    <amazon module="M2ePro">
                        <title>Amazon</title>
                        <sort_order>2</sort_order>
                        <children>

                            <listings module="M2ePro">
                                <title>Listings</title>
                                <sort_order>1</sort_order>
                                <action>M2ePro/adminhtml_amazon_listing/index</action>
                            </listings>

                            <orders module="M2ePro">
                                <title>Sales</title>
                                <sort_order>2</sort_order>
                                <action>M2ePro/adminhtml_amazon_order/index</action>
                            </orders>

                            <logs module="M2ePro">
                                <title><![CDATA[Logs & Events]]></title>
                                <sort_order>3</sort_order>
                                <action>M2ePro/adminhtml_amazon_log/listing</action>
                            </logs>

                            <configuration module="M2ePro">
                                <title>Configuration</title>
                                <sort_order>4</sort_order>
                                <action>M2ePro/adminhtml_amazon_synchronization/index</action>
                            </configuration>

                        </children>
                    </amazon>

                    <walmart module="M2ePro">
                        <title>Walmart</title>
                        <sort_order>3</sort_order>
                        <children>

                            <listings module="M2ePro">
                                <title>Listings</title>
                                <sort_order>1</sort_order>
                                <action>M2ePro/adminhtml_walmart_listing/index</action>
                            </listings>

                            <orders module="M2ePro">
                                <title>Sales</title>
                                <sort_order>2</sort_order>
                                <action>M2ePro/adminhtml_walmart_order/index</action>
                            </orders>

                            <logs module="M2ePro">
                                <title><![CDATA[Logs & Events]]></title>
                                <sort_order>3</sort_order>
                                <action>M2ePro/adminhtml_walmart_log/listing</action>
                            </logs>

                            <configuration module="M2ePro">
                                <title>Configuration</title>
                                <sort_order>4</sort_order>
                                <action>M2ePro/adminhtml_walmart_synchronization/index</action>
                            </configuration>

                        </children>
                    </walmart>

                    <help module="M2ePro">
                        <title>Help Center</title>
                        <sort_order>10</sort_order>
                        <action>M2ePro/adminhtml_support/index</action>
                    </help>

                </children>
            </m2epro>

        </menu>
        <acl>
            <resources>
                <all>
                    <title>Allow Everything</title>
                </all>
                <admin>
                    <children>

                        <m2epro>
                            <title>eBay, Amazon, Walmart</title>
                            <sort_order>71</sort_order>
                            <children>

                                <ebay module="M2ePro">
                                    <title>eBay</title>
                                    <sort_order>1</sort_order>
                                    <children>

                                        <listings>
                                            <title>Listings</title>
                                            <sort_order>1</sort_order>
                                        </listings>

                                        <orders>
                                            <title>Sales</title>
                                            <sort_order>2</sort_order>
                                        </orders>

                                        <logs>
                                            <title><![CDATA[Logs & Events]]></title>
                                            <sort_order>3</sort_order>
                                        </logs>

                                        <configuration>
                                            <title>Configuration</title>
                                            <sort_order>4</sort_order>
                                        </configuration>

                                    </children>
                                </ebay>

                                <amazon module="M2ePro">
                                    <title>Amazon</title>
                                    <sort_order>2</sort_order>
                                    <children>

                                        <listings>
                                            <title>Listings</title>
                                            <sort_order>1</sort_order>
                                        </listings>

                                        <orders>
                                            <title>Sales</title>
                                            <sort_order>2</sort_order>
                                        </orders>

                                        <logs>
                                            <title><![CDATA[Logs & Events]]></title>
                                            <sort_order>3</sort_order>
                                        </logs>

                                        <configuration>
                                            <title>Configuration</title>
                                            <sort_order>4</sort_order>
                                        </configuration>

                                    </children>
                                </amazon>

                                <walmart module="M2ePro">
                                    <title>Walmart</title>
                                    <sort_order>3</sort_order>
                                    <children>

                                        <listings>
                                            <title>Listings</title>
                                            <sort_order>1</sort_order>
                                        </listings>

                                        <orders>
                                            <title>Sales</title>
                                            <sort_order>2</sort_order>
                                        </orders>

                                        <logs>
                                            <title><![CDATA[Logs & Events]]></title>
                                            <sort_order>3</sort_order>
                                        </logs>

                                        <configuration>
                                            <title>Configuration</title>
                                            <sort_order>4</sort_order>
                                        </configuration>

                                    </children>
                                </walmart>

                                <help>
                                    <title>Help Center</title>
                                    <sort_order>5</sort_order>
                                </help>

                            </children>
                        </m2epro>

                        <system>
                            <children>
                                <config>
                                    <children>
                                        <m2epro_components>
                                            <title>Channels</title>
                                            <sort_order>1</sort_order>
                                        </m2epro_components>
                                        <m2epro_settings>
                                            <title>General</title>
                                            <sort_order>2</sort_order>
                                        </m2epro_settings>
                                        <m2epro_logs_clearing>
                                            <title>Logs &amp; Notifications</title>
                                            <sort_order>3</sort_order>
                                        </m2epro_logs_clearing>
                                        <m2epro_license>
                                            <title>Billing Info</title>
                                            <sort_order>4</sort_order>
                                        </m2epro_license>
                                        <m2epro_advanced>
                                            <title>Advanced</title>
                                            <sort_order>5</sort_order>
                                        </m2epro_advanced>
                                    </children>
                                </config>
                            </children>
                        </system>

                    </children>
                </admin>
            </resources>
        </acl>
        <layout>
            <updates>
                <M2ePro>
                    <file>M2ePro.xml</file>
                </M2ePro>
            </updates>
        </layout>
    </adminhtml>
    <global>

        <ignore_user_agents>
            <m2ePro>M2E Pro Cron Service/1.0</m2ePro>
        </ignore_user_agents>

        <events>

            <!-- system configuration -->

            <adminhtml_init_system_config>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>systemConfigurationInit</method>
                    </M2ePro_observer>
                </observers>
            </adminhtml_init_system_config>

            <controller_action_predispatch_adminhtml_system_config_save>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>systemConfigurationSaveAction</method>
                    </M2ePro_observer>
                </observers>
            </controller_action_predispatch_adminhtml_system_config_save>

            <!-- products -->

            <catalog_product_save_before>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>catalogProductSaveBefore</method>
                    </M2ePro_observer>
                </observers>
            </catalog_product_save_before>
            <catalog_product_save_after>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>catalogProductSaveAfter</method>
                    </M2ePro_observer>
                </observers>
            </catalog_product_save_after>

            <catalog_product_delete_before>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>catalogProductDeleteBefore</method>
                    </M2ePro_observer>
                </observers>
            </catalog_product_delete_before>

            <!-- attributes -->

            <catalog_product_attribute_update_before>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>catalogProductAttributeUpdateBefore</method>
                    </M2ePro_observer>
                </observers>
            </catalog_product_attribute_update_before>

            <!-- websites -->

            <catalog_product_website_update_before>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>catalogProductWebsiteUpdateBefore</method>
                    </M2ePro_observer>
                </observers>
            </catalog_product_website_update_before>

            <!-- categories & stock items -->

            <catalog_category_change_products>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>catalogCategoryChangeProducts</method>
                    </M2ePro_observer>
                </observers>
            </catalog_category_change_products>

            <cataloginventory_stock_item_save_after>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>catalogInventoryStockItemSaveAfter</method>
                    </M2ePro_observer>
                </observers>
            </cataloginventory_stock_item_save_after>

            <!-- synchronization -->

            <m2epro_synchronization_before_start>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>synchronizationBeforeStart</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_synchronization_before_start>

            <m2epro_synchronization_after_end>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>synchronizationAfterStart</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_synchronization_after_end>

            <!-- external orders -->

            <sales_order_invoice_pay>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>salesOrderInvoicePay</method>
                    </M2ePro_observer>
                </observers>
            </sales_order_invoice_pay>

            <sales_order_invoice_save_after>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>salesOrderInvoiceSaveAfter</method>
                    </M2ePro_observer>
                </observers>
            </sales_order_invoice_save_after>

            <sales_shipment_item_save_after>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>salesShipmentItemSaveAfter</method>
                    </M2ePro_observer>
                </observers>
            </sales_shipment_item_save_after>
            <sales_shipment_item_save_commit_after>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>salesShipmentItemSaveAfter</method>
                    </M2ePro_observer>
                </observers>
            </sales_shipment_item_save_commit_after>

            <sales_order_shipment_track_save_after>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>salesOrderShipmentTrackSaveAfter</method>
                    </M2ePro_observer>
                </observers>
            </sales_order_shipment_track_save_after>
            <sales_order_shipment_track_save_commit_after>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>salesOrderShipmentTrackSaveAfter</method>
                    </M2ePro_observer>
                </observers>
            </sales_order_shipment_track_save_commit_after>

            <sales_order_creditmemo_refund>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>salesOrderCreditmemoRefund</method>
                    </M2ePro_observer>
                </observers>
            </sales_order_creditmemo_refund>

            <sales_order_creditmemo_save_after>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>salesOrderCreditmemoSaveAfter</method>
                    </M2ePro_observer>
                </observers>
            </sales_order_creditmemo_save_after>

            <sales_order_save_after>
                <observers>
                    <M2ePro_observer_order_create>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>salesOrderSaveAfterStoreMagentoOrderId</method>
                    </M2ePro_observer_order_create>
                </observers>
            </sales_order_save_after>
            <order_cancel_after>
                <observers>
                    <M2ePro_observer_order_cancel>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>salesOrderCancel</method>
                    </M2ePro_observer_order_cancel>
                </observers>
            </order_cancel_after>

            <sales_convert_quote_item_to_order_item>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>salesConvertQuoteItemToOrderItem</method>
                    </M2ePro_observer>
                </observers>
            </sales_convert_quote_item_to_order_item>

            <controller_action_layout_render_before_adminhtml_sales_order_view>
                <observers>
                    <M2ePro_observer_order_view_before>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>orderViewBefore</method>
                    </M2ePro_observer_order_view_before>
                </observers>
            </controller_action_layout_render_before_adminhtml_sales_order_view>

            <controller_action_layout_render_before_adminhtml_sales_order_shipment_view>
                <observers>
                    <M2ePro_observer_shipment_view>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>shipmentView</method>
                    </M2ePro_observer_shipment_view>
                </observers>
            </controller_action_layout_render_before_adminhtml_sales_order_shipment_view>

            <controller_action_layout_render_before_adminhtml_sales_order_invoice_view>
                <observers>
                    <M2ePro_observer_invoice_view>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>invoiceView</method>
                    </M2ePro_observer_invoice_view>
                </observers>
            </controller_action_layout_render_before_adminhtml_sales_order_invoice_view>

            <controller_action_layout_render_before_adminhtml_sales_order_creditmemo_view>
                <observers>
                    <M2ePro_observer_creditmemo_view>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>creditmemoView</method>
                    </M2ePro_observer_creditmemo_view>
                </observers>
            </controller_action_layout_render_before_adminhtml_sales_order_creditmemo_view>

            <core_block_abstract_prepare_layout_after>
                <observers>
                    <M2ePro_observer_order_view_after>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>orderViewAfter</method>
                    </M2ePro_observer_order_view_after>
                </observers>
            </core_block_abstract_prepare_layout_after>

            <core_block_abstract_prepare_layout_after>
                <observers>
                    <M2ePro_observer_shipment_view_before>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>shipmentViewBefore</method>
                    </M2ePro_observer_shipment_view_before>
                </observers>
            </core_block_abstract_prepare_layout_after>

            <core_block_abstract_to_html_after>
                <observers>
                    <M2ePro_observer_shipment_view_after>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>shipmentViewAfter</method>
                    </M2ePro_observer_shipment_view_after>
                </observers>
            </core_block_abstract_to_html_after>

            <controller_action_layout_generate_blocks_after>
                <observers>
                    <M2eProUpdater_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>orderNotification</method>
                    </M2eProUpdater_observer>
                </observers>
            </controller_action_layout_generate_blocks_after>

            <sales_quote_address_collect_totals_after>
                <observers>
                    <M2eProUpdater_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>orderQuoteTotal</method>
                    </M2eProUpdater_observer>
                </observers>
            </sales_quote_address_collect_totals_after>

            <!-- internal orders -->

            <m2epro_associate_ebay_order_item_to_product>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>associateEbayItemWithProduct</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_associate_ebay_order_item_to_product>
            <m2epro_associate_amazon_order_item_to_product>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>associateAmazonItemWithProduct</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_associate_amazon_order_item_to_product>
            <m2epro_associate_walmart_order_item_to_product>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>associateWalmartItemWithProduct</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_associate_walmart_order_item_to_product>

            <!-- amazon orders -->

            <m2epro_amazon_fba_magento_order_place_after>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>revertAmazonOrderedQty</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_amazon_fba_magento_order_place_after>

            <!-- listing product -->

            <m2epro_listing_product_save_after>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>listingProductSaveAfter</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_listing_product_save_after>

            <m2epro_listing_product_delete_before>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>listingProductDeleteBefore</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_listing_product_delete_before>

            <!-- cron keep alive -->

            <m2epro_cron_keep_alive_activate>
                <observers>
                    <M2ePro_observer>
                        <type>singleton</type>
                        <class>M2ePro/Cron_Strategy_Observer_KeepAlive</class>
                        <method>process</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_cron_keep_alive_activate>

            <model_save_before>
                <observers>
                    <M2ePro_observer>
                        <type>singleton</type>
                        <class>M2ePro/Cron_Strategy_Observer_KeepAlive</class>
                        <method>process</method>
                    </M2ePro_observer>
                </observers>
            </model_save_before>

            <model_load_before>
                <observers>
                    <M2ePro_observer>
                        <type>singleton</type>
                        <class>M2ePro/Cron_Strategy_Observer_KeepAlive</class>
                        <method>process</method>
                    </M2ePro_observer>
                </observers>
            </model_load_before>

            <core_collection_abstract_load_before>
                <observers>
                    <M2ePro_observer>
                        <type>singleton</type>
                        <class>M2ePro/Cron_Strategy_Observer_KeepAlive</class>
                        <method>process</method>
                    </M2ePro_observer>
                </observers>
            </core_collection_abstract_load_before>

            <!-- cron progress -->

            <m2epro_cron_progress_start>
                <observers>
                    <M2ePro_observer>
                        <type>singleton</type>
                        <class>M2ePro/Cron_Strategy_Observer_Progress</class>
                        <method>process</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_cron_progress_start>

            <m2epro_cron_progress_set_percentage>
                <observers>
                    <M2ePro_observer>
                        <type>singleton</type>
                        <class>M2ePro/Cron_Strategy_Observer_Progress</class>
                        <method>process</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_cron_progress_set_percentage>

            <m2epro_cron_progress_set_details>
                <observers>
                    <M2ePro_observer>
                        <type>singleton</type>
                        <class>M2ePro/Cron_Strategy_Observer_Progress</class>
                        <method>process</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_cron_progress_set_details>

            <m2epro_cron_progress_stop>
                <observers>
                    <M2ePro_observer>
                        <type>singleton</type>
                        <class>M2ePro/Cron_Strategy_Observer_Progress</class>
                        <method>process</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_cron_progress_stop>

            <m2epro_magento_static_block_save_after>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>Ess_M2ePro_Observer_Dispatcher</class>
                        <method>magentoStaticBlockChanged</method>
                    </M2ePro_observer>
                </observers>
            </m2epro_magento_static_block_save_after>

        </events>
        <models>
            <M2ePro>
                <class>Ess_M2ePro_Model</class>
                <resourceModel>M2ePro_resource</resourceModel>
                <!-- PublicServices dir. was moved outside of Model dir. The following lines are added for BC. -->
                <rewrite>
                    <PublicServices_Product_ObjectChange>Ess_M2ePro_PublicServices_Product_ObjectChange</PublicServices_Product_ObjectChange>
                    <PublicServices_Product_SqlChange>Ess_M2ePro_PublicServices_Product_SqlChange</PublicServices_Product_SqlChange>
                </rewrite>
            </M2ePro>

            <!-- Observer dir. was moved outside of Model dir. -->
            <M2ePro_Observer>
                <class>Ess_M2ePro_Observer</class>
            </M2ePro_Observer>

            <!-- PublicServices dir. was moved outside of Model dir. -->
            <M2ePro_PublicServices>
                <class>Ess_M2ePro_PublicServices</class>
            </M2ePro_PublicServices>

            <M2ePro_resource>
                <class>Ess_M2ePro_Model_Resource</class>
                <entities>

                    <!-- GENERAL -->

                    <Config>
                        <table>m2epro_config</table>
                    </Config>

                    <Registry>
                        <table>m2epro_registry</table>
                    </Registry>
                    <ArchivedEntity>
                        <table>m2epro_archived_entity</table>
                    </ArchivedEntity>

                    <Lock_Item>
                        <table>m2epro_lock_item</table>
                    </Lock_Item>
                    <Lock_Transactional>
                        <table>m2epro_lock_transactional</table>
                    </Lock_Transactional>

                    <Magento_Product_Websites_Update>
                        <table>m2epro_magento_product_websites_update</table>
                    </Magento_Product_Websites_Update>
                    <OperationHistory>
                        <table>m2epro_operation_history</table>
                    </OperationHistory>
                    <Synchronization_Log>
                        <table>m2epro_synchronization_log</table>
                    </Synchronization_Log>

                    <Log_System>
                        <table>m2epro_system_log</table>
                    </Log_System>

                    <StopQueue>
                        <table>m2epro_stop_queue</table>
                    </StopQueue>
                    <Wizard>
                        <table>m2epro_wizard</table>
                    </Wizard>
                    <Setup>
                        <table>m2epro_setup</table>
                    </Setup>

                    <!-- PROCESSING -->

                    <Processing>
                        <table>m2epro_processing</table>
                    </Processing>
                    <Processing_Lock>
                        <table>m2epro_processing_lock</table>
                    </Processing_Lock>

                    <!-- REQUEST -->

                    <Request_Pending_Single>
                        <table>m2epro_request_pending_single</table>
                    </Request_Pending_Single>
                    <Request_Pending_Partial>
                        <table>m2epro_request_pending_partial</table>
                    </Request_Pending_Partial>
                    <Request_Pending_Partial_Data>
                        <table>m2epro_request_pending_partial_data</table>
                    </Request_Pending_Partial_Data>

                    <!-- CONNECTOR -->

                    <Connector_Command_Pending_Processing_Single>
                        <table>m2epro_connector_command_pending_processing_single</table>
                    </Connector_Command_Pending_Processing_Single>
                    <Connector_Command_Pending_Processing_Partial>
                        <table>m2epro_connector_command_pending_processing_partial</table>
                    </Connector_Command_Pending_Processing_Partial>

                    <!-- ACCOUNTS AND MARKETPLACES -->

                    <Account>
                        <table>m2epro_account</table>
                    </Account>
                    <Ebay_Account>
                        <table>m2epro_ebay_account</table>
                    </Ebay_Account>
                    <Ebay_Account_Store_Category>
                        <table>m2epro_ebay_account_store_category</table>
                    </Ebay_Account_Store_Category>

                    <Amazon_Account>
                        <table>m2epro_amazon_account</table>
                    </Amazon_Account>
                    <Walmart_Account>
                        <table>m2epro_walmart_account</table>
                    </Walmart_Account>

                    <Marketplace>
                        <table>m2epro_marketplace</table>
                    </Marketplace>
                    <Ebay_Marketplace>
                        <table>m2epro_ebay_marketplace</table>
                    </Ebay_Marketplace>
                    <Amazon_Marketplace>
                        <table>m2epro_amazon_marketplace</table>
                    </Amazon_Marketplace>
                    <Walmart_Marketplace>
                        <table>m2epro_walmart_marketplace</table>
                    </Walmart_Marketplace>

                    <!-- TEMPLATES -->

                    <Template_SellingFormat>
                        <table>m2epro_template_selling_format</table>
                    </Template_SellingFormat>
                    <Ebay_Template_SellingFormat>
                        <table>m2epro_ebay_template_selling_format</table>
                    </Ebay_Template_SellingFormat>
                    <Amazon_Template_SellingFormat>
                        <table>m2epro_amazon_template_selling_format</table>
                    </Amazon_Template_SellingFormat>
                    <Walmart_Template_SellingFormat>
                        <table>m2epro_walmart_template_selling_format</table>
                    </Walmart_Template_SellingFormat>
                    <Walmart_Template_SellingFormat_Promotion>
                        <table>m2epro_walmart_template_selling_format_promotion</table>
                    </Walmart_Template_SellingFormat_Promotion>
                    <Walmart_Template_SellingFormat_ShippingOverride>
                        <table>m2epro_walmart_template_selling_format_shipping_override</table>
                    </Walmart_Template_SellingFormat_ShippingOverride>

                    <Template_Synchronization>
                        <table>m2epro_template_synchronization</table>
                    </Template_Synchronization>
                    <Ebay_Template_Synchronization>
                        <table>m2epro_ebay_template_synchronization</table>
                    </Ebay_Template_Synchronization>
                    <Amazon_Template_Synchronization>
                        <table>m2epro_amazon_template_synchronization</table>
                    </Amazon_Template_Synchronization>
                    <Walmart_Template_Synchronization>
                        <table>m2epro_walmart_template_synchronization</table>
                    </Walmart_Template_Synchronization>

                    <Template_Description>
                        <table>m2epro_template_description</table>
                    </Template_Description>
                    <Ebay_Template_Description>
                        <table>m2epro_ebay_template_description</table>
                    </Ebay_Template_Description>
                    <Walmart_Template_Description>
                        <table>m2epro_walmart_template_description</table>
                    </Walmart_Template_Description>

                    <!-- LISTINGS -->

                    <Listing_Auto_Category>
                        <table>m2epro_listing_auto_category</table>
                    </Listing_Auto_Category>

                    <Listing_Auto_Category_Group>
                        <table>m2epro_listing_auto_category_group</table>
                    </Listing_Auto_Category_Group>
                    <Ebay_Listing_Auto_Category_Group>
                        <table>m2epro_ebay_listing_auto_category_group</table>
                    </Ebay_Listing_Auto_Category_Group>
                    <Amazon_Listing_Auto_Category_Group>
                        <table>m2epro_amazon_listing_auto_category_group</table>
                    </Amazon_Listing_Auto_Category_Group>
                    <Walmart_Listing_Auto_Category_Group>
                        <table>m2epro_walmart_listing_auto_category_group</table>
                    </Walmart_Listing_Auto_Category_Group>

                    <Listing_Log>
                        <table>m2epro_listing_log</table>
                    </Listing_Log>

                    <Listing_Other>
                        <table>m2epro_listing_other</table>
                    </Listing_Other>
                    <Ebay_Listing_Other>
                        <table>m2epro_ebay_listing_other</table>
                    </Ebay_Listing_Other>
                    <Amazon_Listing_Other>
                        <table>m2epro_amazon_listing_other</table>
                    </Amazon_Listing_Other>
                    <Walmart_Listing_Other>
                        <table>m2epro_walmart_listing_other</table>
                    </Walmart_Listing_Other>

                    <Listing>
                        <table>m2epro_listing</table>
                    </Listing>
                    <Ebay_Listing>
                        <table>m2epro_ebay_listing</table>
                    </Ebay_Listing>
                    <Amazon_Listing>
                        <table>m2epro_amazon_listing</table>
                    </Amazon_Listing>
                    <Walmart_Listing>
                        <table>m2epro_walmart_listing</table>
                    </Walmart_Listing>

                    <Listing_Product>
                        <table>m2epro_listing_product</table>
                    </Listing_Product>
                    <Ebay_Listing_Product>
                        <table>m2epro_ebay_listing_product</table>
                    </Ebay_Listing_Product>
                    <Amazon_Listing_Product>
                        <table>m2epro_amazon_listing_product</table>
                    </Amazon_Listing_Product>
                    <Walmart_Listing_Product>
                        <table>m2epro_walmart_listing_product</table>
                    </Walmart_Listing_Product>

                    <Listing_Product_Variation>
                        <table>m2epro_listing_product_variation</table>
                    </Listing_Product_Variation>
                    <Ebay_Listing_Product_Variation>
                        <table>m2epro_ebay_listing_product_variation</table>
                    </Ebay_Listing_Product_Variation>
                    <Amazon_Listing_Product_Variation>
                        <table>m2epro_amazon_listing_product_variation</table>
                    </Amazon_Listing_Product_Variation>
                    <Walmart_Listing_Product_Variation>
                        <table>m2epro_walmart_listing_product_variation</table>
                    </Walmart_Listing_Product_Variation>

                    <Listing_Product_Variation_Option>
                        <table>m2epro_listing_product_variation_option</table>
                    </Listing_Product_Variation_Option>
                    <Ebay_Listing_Product_Variation_Option>
                        <table>m2epro_ebay_listing_product_variation_option</table>
                    </Ebay_Listing_Product_Variation_Option>
                    <Amazon_Listing_Product_Variation_Option>
                        <table>m2epro_amazon_listing_product_variation_option</table>
                    </Amazon_Listing_Product_Variation_Option>
                    <Walmart_Listing_Product_Variation_Option>
                        <table>m2epro_walmart_listing_product_variation_option</table>
                    </Walmart_Listing_Product_Variation_Option>

                    <Ebay_Listing_Product_Action_Processing>
                        <table>m2epro_ebay_listing_product_action_processing</table>
                    </Ebay_Listing_Product_Action_Processing>
                    <Amazon_Listing_Product_Action_Processing>
                        <table>m2epro_amazon_listing_product_action_processing</table>
                    </Amazon_Listing_Product_Action_Processing>
                    <Walmart_Listing_Product_Action_Processing>
                        <table>m2epro_walmart_listing_product_action_processing</table>
                    </Walmart_Listing_Product_Action_Processing>

                    <Amazon_Listing_Product_Action_ProcessingListSku>
                        <table>m2epro_amazon_listing_product_action_processing_list_sku</table>
                    </Amazon_Listing_Product_Action_ProcessingListSku>
                    <Walmart_Listing_Product_Action_ProcessingList>
                        <table>m2epro_walmart_listing_product_action_processing_list</table>
                    </Walmart_Listing_Product_Action_ProcessingList>

                    <Listing_Product_Instruction>
                        <table>m2epro_listing_product_instruction</table>
                    </Listing_Product_Instruction>
                    <Listing_Product_ScheduledAction>
                        <table>m2epro_listing_product_scheduled_action</table>
                    </Listing_Product_ScheduledAction>

                    <!-- ORDERS -->

                    <Order_Log>
                        <table>m2epro_order_log</table>
                    </Order_Log>
                    <Order_Note>
                        <table>m2epro_order_note</table>
                    </Order_Note>
                    <Order_Change>
                        <table>m2epro_order_change</table>
                    </Order_Change>
                    <Order_Matching>
                        <table>m2epro_order_matching</table>
                    </Order_Matching>

                    <Order>
                        <table>m2epro_order</table>
                    </Order>
                    <Ebay_Order>
                        <table>m2epro_ebay_order</table>
                    </Ebay_Order>
                    <Amazon_Order>
                        <table>m2epro_amazon_order</table>
                    </Amazon_Order>
                    <Amazon_Order_Action_Processing>
                        <table>m2epro_amazon_order_action_processing</table>
                    </Amazon_Order_Action_Processing>
                    <Walmart_Order>
                        <table>m2epro_walmart_order</table>
                    </Walmart_Order>

                    <Order_Item>
                        <table>m2epro_order_item</table>
                    </Order_Item>
                    <Ebay_Order_Item>
                        <table>m2epro_ebay_order_item</table>
                    </Ebay_Order_Item>
                    <Amazon_Order_Item>
                        <table>m2epro_amazon_order_item</table>
                    </Amazon_Order_Item>
                    <Walmart_Order_Item>
                        <table>m2epro_walmart_order_item</table>
                    </Walmart_Order_Item>

                    <!-- EBAY -->

                    <Ebay_Item>
                        <table>m2epro_ebay_item</table>
                    </Ebay_Item>

                    <Ebay_Feedback>
                        <table>m2epro_ebay_feedback</table>
                    </Ebay_Feedback>
                    <Ebay_Feedback_Template>
                        <table>m2epro_ebay_feedback_template</table>
                    </Ebay_Feedback_Template>

                    <Ebay_Order_ExternalTransaction>
                        <table>m2epro_ebay_order_external_transaction</table>
                    </Ebay_Order_ExternalTransaction>

                    <Ebay_Template_Payment>
                        <table>m2epro_ebay_template_payment</table>
                    </Ebay_Template_Payment>
                    <Ebay_Template_Payment_Service>
                        <table>m2epro_ebay_template_payment_service</table>
                    </Ebay_Template_Payment_Service>
                    <Ebay_Template_Shipping>
                        <table>m2epro_ebay_template_shipping</table>
                    </Ebay_Template_Shipping>
                    <Ebay_Template_Shipping_Service>
                        <table>m2epro_ebay_template_shipping_service</table>
                    </Ebay_Template_Shipping_Service>
                    <Ebay_Template_Shipping_Calculated>
                        <table>m2epro_ebay_template_shipping_calculated</table>
                    </Ebay_Template_Shipping_Calculated>
                    <Ebay_Template_ReturnPolicy>
                        <table>m2epro_ebay_template_return_policy</table>
                    </Ebay_Template_ReturnPolicy>
                    <Ebay_Template_Category>
                        <table>m2epro_ebay_template_category</table>
                    </Ebay_Template_Category>
                    <Ebay_Template_Category_Specific>
                        <table>m2epro_ebay_template_category_specific</table>
                    </Ebay_Template_Category_Specific>
                    <Ebay_Template_StoreCategory>
                        <table>m2epro_ebay_template_store_category</table>
                    </Ebay_Template_StoreCategory>

                    <Ebay_Motor_Filter>
                        <table>m2epro_ebay_motor_filter</table>
                    </Ebay_Motor_Filter>
                    <Ebay_Motor_Group>
                        <table>m2epro_ebay_motor_group</table>
                    </Ebay_Motor_Group>
                    <Ebay_Motor_Filter_To_Group>
                        <table>m2epro_ebay_motor_filter_to_group</table>
                    </Ebay_Motor_Filter_To_Group>

                    <!-- AMAZON -->

                    <Amazon_Account_Repricing>
                        <table>m2epro_amazon_account_repricing</table>
                    </Amazon_Account_Repricing>
                    <Amazon_Listing_Product_Repricing>
                        <table>m2epro_amazon_listing_product_repricing</table>
                    </Amazon_Listing_Product_Repricing>

                    <Amazon_Item>
                        <table>m2epro_amazon_item</table>
                    </Amazon_Item>

                    <Amazon_Inventory_Sku>
                        <table>m2epro_amazon_inventory_sku</table>
                    </Amazon_Inventory_Sku>

                    <Amazon_Order_Invoice>
                        <table>m2epro_amazon_order_invoice</table>
                    </Amazon_Order_Invoice>

                    <Amazon_Template_SellingFormat_BusinessDiscount>
                        <table>m2epro_amazon_template_selling_format_business_discount</table>
                    </Amazon_Template_SellingFormat_BusinessDiscount>

                    <Amazon_Template_Shipping>
                        <table>m2epro_amazon_template_shipping</table>
                    </Amazon_Template_Shipping>

                    <Amazon_Template_ProductTaxCode>
                        <table>m2epro_amazon_template_product_tax_code</table>
                    </Amazon_Template_ProductTaxCode>

                    <Amazon_ProductType_AttributeMapping>
                        <table>m2epro_amazon_product_type_attribute_mapping</table>
                    </Amazon_ProductType_AttributeMapping>

                    <Amazon_ProductType_Validation>
                        <table>m2epro_amazon_product_type_validation</table>
                    </Amazon_ProductType_Validation>

                    <Amazon_Template_ProductType>
                        <table>m2epro_amazon_template_product_type</table>
                    </Amazon_Template_ProductType>

                    <!-- WALMART -->

                    <Walmart_Item>
                        <table>m2epro_walmart_item</table>
                    </Walmart_Item>

                    <Walmart_ProductType>
                        <table>m2epro_walmart_product_type</table>
                    </Walmart_ProductType>

                    <!-- INDEXERS -->

                    <Ebay_Listing_Product_Indexer_VariationParent>
                        <table>m2epro_ebay_listing_product_indexer_variation_parent</table>
                    </Ebay_Listing_Product_Indexer_VariationParent>
                    <Amazon_Listing_Product_Indexer_VariationParent>
                        <table>m2epro_amazon_listing_product_indexer_variation_parent</table>
                    </Amazon_Listing_Product_Indexer_VariationParent>
                    <Walmart_Listing_Product_Indexer_VariationParent>
                        <table>m2epro_walmart_listing_product_indexer_variation_parent</table>
                    </Walmart_Listing_Product_Indexer_VariationParent>

                    <!-- DICTIONARIES -->

                    <Amazon_Dictionary_Marketplace>
                        <table>m2epro_amazon_dictionary_marketplace</table>
                    </Amazon_Dictionary_Marketplace>
                    <Amazon_Dictionary_ProductType>
                        <table>m2epro_amazon_dictionary_product_type</table>
                    </Amazon_Dictionary_ProductType>
                    <Amazon_Dictionary_TemplateShipping>
                        <table>m2epro_amazon_dictionary_template_shipping</table>
                    </Amazon_Dictionary_TemplateShipping>
                    <Ebay_Dictionary_Category>
                        <table>m2epro_ebay_dictionary_category</table>
                    </Ebay_Dictionary_Category>
                    <Ebay_Dictionary_Marketplace>
                        <table>m2epro_ebay_dictionary_marketplace</table>
                    </Ebay_Dictionary_Marketplace>
                    <Ebay_Dictionary_Motor_Epid>
                        <table>m2epro_ebay_dictionary_motor_epid</table>
                    </Ebay_Dictionary_Motor_Epid>
                    <Ebay_Dictionary_Motor_Ktype>
                        <table>m2epro_ebay_dictionary_motor_ktype</table>
                    </Ebay_Dictionary_Motor_Ktype>
                    <Ebay_Dictionary_Shipping>
                        <table>m2epro_ebay_dictionary_shipping</table>
                    </Ebay_Dictionary_Shipping>
                    <Walmart_Dictionary_Category>
                        <table>m2epro_walmart_dictionary_category</table>
                    </Walmart_Dictionary_Category>
                    <Walmart_Dictionary_Marketplace>
                        <table>m2epro_walmart_dictionary_marketplace</table>
                    </Walmart_Dictionary_Marketplace>
                    <Walmart_Dictionary_ProductType>
                        <table>m2epro_walmart_dictionary_product_type</table>
                    </Walmart_Dictionary_ProductType>

                </entities>
            </M2ePro_resource>

            <cms>
                <rewrite>
                    <block>Ess_M2ePro_Block_Adminhtml_Magento_StaticBlock</block>
                </rewrite>
            </cms>

        </models>
        <resources>
            <M2ePro_setup>
                <setup>
                    <module>Ess_M2ePro</module>
                    <class>Ess_M2ePro_Model_Upgrade_MySqlSetup</class>
                </setup>
                <connection>
                    <use>core_setup</use>
                </connection>
            </M2ePro_setup>
            <M2ePro_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </M2ePro_write>
            <M2ePro_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </M2ePro_read>
        </resources>
        <blocks>
            <M2ePro>
                <class>Ess_M2ePro_Block</class>
            </M2ePro>
            <adminhtml>
                <rewrite>
                    <page_menu>Ess_M2ePro_Block_Adminhtml_Magento_Menu</page_menu>
                </rewrite>
            </adminhtml>
        </blocks>
        <helpers>
            <M2ePro>
                <class>Ess_M2ePro_Helper</class>
            </M2ePro>
        </helpers>
        <sales>
            <quote>
                <totals>
                    <waste_recycling_fee>
                        <class>Ess_M2ePro_Model_Magento_Quote_Total_WasteRecyclingFee</class>
                        <after>weee</after>
                        <before>shipping,tax,discount</before>
                    </waste_recycling_fee>
                </totals>
            </quote>
        </sales>
    </global>
    <crontab>
        <jobs>
            <M2ePro_cron>
                <schedule>
                    <cron_expr>*/1 * * * *</cron_expr>
                </schedule>
                <run>
                    <model>M2ePro/Cron_Runner_Magento::process</model>
                </run>
            </M2ePro_cron>
        </jobs>
        <events>
            <sales_convert_quote_item_to_order_item>
                <observers>
                    <M2ePro_observer>
                        <type>model</type>
                        <class>giftmessage/observer</class>
                        <method>salesEventConvertQuoteItemToOrderItem</method>
                    </M2ePro_observer>
                </observers>
            </sales_convert_quote_item_to_order_item>
            <sales_order_item_save_commit_after>
                <observers>
                    <M2ePro_observer>
                        <class>downloadable/observer</class>
                        <method>saveDownloadableOrderItem</method>
                    </M2ePro_observer>
                </observers>
            </sales_order_item_save_commit_after>
            <sales_order_save_commit_after>
                <observers>
                    <M2ePro_observer>
                        <class>downloadable/observer</class>
                        <method>setLinkStatus</method>
                    </M2ePro_observer>
                </observers>
            </sales_order_save_commit_after>
        </events>
    </crontab>
</config>
